[build]
builder = "dockerfile"

[deploy]
startCommand = "uvicorn app.main:app --host 0.0.0.0 --port $PORT"
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "always"

[env]
# Application Configuration
APP_ENV = { default = "production" }
DEBUG = { default = "false" }
PYTHONPATH = "/app/backend"

# CORS Origins - Your Vercel domains
CORS_ORIGINS = { default = "https://ai-text-analysis-platform.vercel.app,https://ai-text-analysis-platform-git-main.vercel.app,https://wordcloud-six-eta.vercel.app" }

# Upload Configuration
UPLOAD_DIR = { default = "/app/backend/uploads" }
MAX_FILE_SIZE = { default = "2147483648" }
